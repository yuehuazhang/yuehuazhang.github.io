<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yuehuazhang.github.io","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Yeha的博客">
<meta property="og:url" content="https://yuehuazhang.github.io/page/3/index.html">
<meta property="og:site_name" content="Yeha的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Yeha">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://yuehuazhang.github.io/page/3/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Yeha的博客</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Yeha的博客</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">休说鲈鱼堪脍，尽西风，季鹰归未？</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuehuazhang.github.io/2022/10/17/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B06-Windowsurface/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yeha">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yeha的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/17/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B06-Windowsurface/" class="post-title-link" itemprop="url">Vulkan笔记-逻辑设备以及队列</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-10-17 20:27:08 / 修改时间：21:11:49" itemprop="dateCreated datePublished" datetime="2022-10-17T20:27:08+08:00">2022-10-17</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vulkan/" itemprop="url" rel="index"><span itemprop="name">Vulkan</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&amp;emsp;&amp;emsp; 这是Vulkan学习的第六节，主要讲解Vulkan怎样创建与窗口交互的操作。</p>
<h2 id="什么是窗口接口"><a href="#什么是窗口接口" class="headerlink" title="什么是窗口接口"></a>什么是窗口接口</h2><p>&amp;emsp;&amp;emsp; 由于Vulkan 是一个与平台无关的API，他不能直接和窗口系统进行交互。为了建立窗口系统和VulKan的联系，我们需要WSI(Window System Integration) 扩展。在这里我们主要讲VK_KHR_surface扩展。由于界面是和系统有关的，在Windows下面，对应的扩展是VK_KHR_win32_surface。</p>
<h3 id="创建窗口接口"><a href="#创建窗口接口" class="headerlink" title="创建窗口接口"></a>创建窗口接口</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//创建窗口接口</span></span><br><span class="line"> VkWin32SurfaceCreateInfoKHR createInfo&#123;&#125;;</span><br><span class="line">createInfo.sType = VK_STRUCTURE_TYPE_WIN32_SURFACE_CREATE_INFO_KHR;</span><br><span class="line">createInfo.hwnd = <span class="built_in">glfwGetWin32Window</span>(window);</span><br><span class="line">createInfo.hinstance = <span class="built_in">GetModuleHandle</span>(<span class="literal">nullptr</span>);</span><br><span class="line"><span class="built_in">vkCreateWin32SurfaceKHR</span>(instance, &amp;createInfo, <span class="literal">nullptr</span>,&amp;surface)</span><br><span class="line"><span class="comment">//程序结束时需要释放接口资源</span></span><br><span class="line"><span class="built_in">vkDestroySurfaceKHR</span>(instance, surface, <span class="literal">nullptr</span>);</span><br></pre></td></tr></table></figure>
<h3 id="选择支持窗口的设备"><a href="#选择支持窗口的设备" class="headerlink" title="选择支持窗口的设备"></a>选择支持窗口的设备</h3><p>&amp;emsp;&amp;emsp; 并不是所有的设备都支持窗口。由于是否支持渲染呈现到窗口上是一个队列的属性，所以我们判断一个设备是否支持窗口关键是判断这个设备中是否存在支持窗口的队列簇。</p>
<h4 id="选择支持窗口设备的代码"><a href="#选择支持窗口设备的代码" class="headerlink" title="选择支持窗口设备的代码"></a>选择支持窗口设备的代码</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断支持绘制和窗口的结构</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">QueueFamilyIndices</span> &#123;</span><br><span class="line">std::optional&lt;<span class="type">uint32_t</span>&gt; graphicsFamily;</span><br><span class="line">std::optional&lt;<span class="type">uint32_t</span>&gt; presentFamily;</span><br><span class="line"><span class="function"><span class="type">bool</span> <span class="title">isComplete</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> graphicsFamily.<span class="built_in">has_value</span>() &amp;&amp;</span><br><span class="line">presentFamily.<span class="built_in">has_value</span>();</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//查找分别满足绘制和窗口的队列簇</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; queueFamily : queueFamilies) &#123;</span><br><span class="line">    <span class="keyword">if</span> (queueFamily.queueFlags &amp; VK_QUEUE_GRAPHICS_BIT) &#123;</span><br><span class="line">        indices.graphicsFamily = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//判断支持窗口的函数</span></span><br><span class="line">    VkBool32 presentSupport = <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">vkGetPhysicalDeviceSurfaceSupportKHR</span>(device, i, surface, &amp;presentSupport);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (presentSupport) &#123;</span><br><span class="line">        indices.presentFamily = i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (indices.<span class="built_in">isComplete</span>()) &#123;</span><br><span class="line">       <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    i++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取满足绘制以及窗口的队列的句柄</span></span><br><span class="line"><span class="built_in">vkGetDeviceQueue</span>(device, indices.graphicsFamily.<span class="built_in">value</span>(), <span class="number">0</span>, &amp;graphicsQueue);</span><br><span class="line"><span class="built_in">vkGetDeviceQueue</span>(device, indices.presentFamily.<span class="built_in">value</span>(), <span class="number">0</span>, &amp;presentQueue);</span><br></pre></td></tr></table></figure>
<h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><ul>
<li>由于支持窗口和支持绘制的队列簇不一定重合，所以我们我们用graphicsFamily以及presentFamily分别表示支持绘制和支持窗口。</li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuehuazhang.github.io/2022/10/16/%E6%AC%A7%E6%B4%B2%E5%8F%B2%E7%AC%94%E8%AE%B01-%E7%88%B1%E7%90%B4%E6%96%87%E6%98%8E/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yeha">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yeha的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/16/%E6%AC%A7%E6%B4%B2%E5%8F%B2%E7%AC%94%E8%AE%B01-%E7%88%B1%E7%90%B4%E6%96%87%E6%98%8E/" class="post-title-link" itemprop="url">欧洲史之爱琴文明</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-10-16 16:36:07" itemprop="dateCreated datePublished" datetime="2022-10-16T16:36:07+08:00">2022-10-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-23 18:08:46" itemprop="dateModified" datetime="2022-10-23T18:08:46+08:00">2022-10-23</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%8E%86%E5%8F%B2/" itemprop="url" rel="index"><span itemprop="name">历史</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="爱琴文明"><a href="#爱琴文明" class="headerlink" title="爱琴文明"></a>爱琴文明</h1><p>爱琴文明主要分为两个阶段：米诺斯文明、迈锡尼文明。</p>
<h2 id="特洛伊-欧洲史的开端"><a href="#特洛伊-欧洲史的开端" class="headerlink" title="特洛伊-欧洲史的开端"></a>特洛伊-欧洲史的开端</h2><p>&amp;emsp;&amp;emsp; 大家可能都听说过<a target="_blank" rel="noopener" href="https://zh.wikipedia.org/wiki/%E7%89%B9%E6%B4%9B%E4%BC%8A%E6%88%98%E4%BA%89">特洛伊战争</a>，该战争主要在荷马写的两部史诗《伊利亚特》和《奥德赛》中进行描述，尽管这两部史诗大部分都是虚构的。希腊人、罗马人和其他欧洲民族都从与特洛伊有关的战争中溯源，可以说特洛伊战争标志着欧洲史的开端。想要熟悉欧洲史必须得熟悉特洛伊战争。 在很早以前，人们认为特洛伊城根本不存在，特洛伊战争仅仅是一个人们想象的神话故事，这个认识在19世纪末被打破，打破这个认识首先归功于海因里希.谢里曼。他首先发现了特洛伊城的遗址位于土耳其西北部的西萨利克并且发现了阿伽门农的神庙。特洛伊城的发现使欧洲的文明时间大大提前，也是人们研究欧洲史前文明的开端。</p>
<h2 id="阶段划分"><a href="#阶段划分" class="headerlink" title="阶段划分"></a>阶段划分</h2><h2 id="米诺斯文明"><a href="#米诺斯文明" class="headerlink" title="米诺斯文明"></a>米诺斯文明</h2><p>&amp;emsp;&amp;emsp; 米诺斯文明主要集中于克里特岛，开始于公元前3500年，复杂的城市文明在公元前2000年开始，在公元前1450年开始衰落（这个时期迈锡尼人开始从希腊本土来到克里特岛），在约公元前1100年完结。米诺斯文明被称为“欧洲文明的第一环”。<br>&amp;emsp;&amp;emsp; 米诺斯人可以建筑高达四层的建筑，建筑中拥有精致的管道系统以及壁画。目前发现的最大建筑是克诺索斯宫殿（始建于公元前20世纪，多次扩建，有迷宫之称）。米诺斯人以从事海外贸易为主。米诺斯文明使用的文字可能使用的是目前仍未破解的线性文字A，该文字的使用始于公元前1800年。<br>&amp;emsp;&amp;emsp; 米诺斯对神的崇拜主要是对女性神祀的崇拜，很可能继承问题也是母系的。<br>&amp;emsp;&amp;emsp; 米诺斯人喜欢一种运动，叫做跳牛运动，该运动可能也是神话故事人物米诺陶名称的来源。</p>
<h2 id="迈锡尼文明"><a href="#迈锡尼文明" class="headerlink" title="迈锡尼文明"></a>迈锡尼文明</h2><p>&amp;emsp;&amp;emsp; 迈锡尼文明是希腊本土的文明，它由伯罗奔尼撒半岛的迈锡尼城而得名。是古希腊青铜时代后期的一个文明。</p>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuehuazhang.github.io/2022/10/16/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B05-Logicaldevice/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yeha">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yeha的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/16/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B05-Logicaldevice/" class="post-title-link" itemprop="url">Vulkan笔记-逻辑设备以及队列</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-10-16 09:17:21" itemprop="dateCreated datePublished" datetime="2022-10-16T09:17:21+08:00">2022-10-16</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-17 20:27:02" itemprop="dateModified" datetime="2022-10-17T20:27:02+08:00">2022-10-17</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vulkan/" itemprop="url" rel="index"><span itemprop="name">Vulkan</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&amp;emsp;&amp;emsp; 这是Vulkan学习的第五节，主要讲解逻辑设备的创建以及队列的创建以及使用。</p>
<h2 id="选择物理设备"><a href="#选择物理设备" class="headerlink" title="选择物理设备"></a>选择物理设备</h2><p>&amp;emsp;&amp;emsp; 在选择完成物理设备以后，我们需要创建一个逻辑设备与物理设备进行连接。我们甚至可以根据实际需要，针对一个物理设备创建多个逻辑设备。</p>
<h3 id="创建逻辑设备"><a href="#创建逻辑设备" class="headerlink" title="创建逻辑设备"></a>创建逻辑设备</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//寻找满足要求的队列簇</span></span><br><span class="line"> QueueFamilyIndices indices = <span class="built_in">findQueueFamilies</span>(physicalDevice);</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建设备队列，需要输入满足队列簇的索引</span></span><br><span class="line">VkDeviceQueueCreateInfo queueCreateInfo&#123;&#125;;</span><br><span class="line">queueCreateInfo.sType = VK_STRUCTURE_TYPE_DEVICE_QUEUE_CREATE_INFO;</span><br><span class="line">queueCreateInfo.queueFamilyIndex = indices.graphicsFamily.<span class="built_in">value</span>();</span><br><span class="line">queueCreateInfo.queueCount = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//设置优先级</span></span><br><span class="line"><span class="type">float</span> queuePriority = <span class="number">1.0f</span>;</span><br><span class="line">queueCreateInfo.pQueuePriorities = &amp;queuePriority;</span><br><span class="line"></span><br><span class="line"><span class="comment">//传入需要的 device features</span></span><br><span class="line">VkPhysicalDeviceFeatures deviceFeatures&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//配置VkDeviceCreateInfo数据结构</span></span><br><span class="line">VkDeviceCreateInfo createInfo&#123;&#125;;</span><br><span class="line">createInfo.sType = VK_STRUCTURE_TYPE_DEVICE_CREATE_INFO;</span><br><span class="line">createInfo.pQueueCreateInfos = &amp;queueCreateInfo;</span><br><span class="line">createInfo.queueCreateInfoCount = <span class="number">1</span>;</span><br><span class="line">createInfo.pEnabledFeatures = &amp;deviceFeatures;</span><br><span class="line">createInfo.enabledExtensionCount = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//创建逻辑设备device 类型是VkDevice </span></span><br><span class="line"><span class="built_in">vkCreateDevice</span>(physicalDevice, &amp;createInfo, <span class="literal">nullptr</span>, &amp;device);</span><br><span class="line"></span><br><span class="line"><span class="comment">//在程序结束时需要释放资源</span></span><br><span class="line"><span class="built_in">vkDestroyDevice</span>(device, <span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取队列</span></span><br><span class="line"><span class="built_in">vkGetDeviceQueue</span>(device, indices.graphicsFamily.<span class="built_in">value</span>(), <span class="number">0</span>, &amp;graphicsQueue);</span><br></pre></td></tr></table></figure>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul>
<li>创建逻辑设备的参数主要有：所需的队列属性的数据（VkDeviceQueueCreateInfo）、设备特征（VkPhysicalDeviceFeatures）等。</li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuehuazhang.github.io/2022/10/15/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B04-Physicaldevices/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yeha">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yeha的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/15/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B04-Physicaldevices/" class="post-title-link" itemprop="url">Vulkan笔记-物理设备和队列簇</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-10-15 17:45:32 / 修改时间：20:31:46" itemprop="dateCreated datePublished" datetime="2022-10-15T17:45:32+08:00">2022-10-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vulkan/" itemprop="url" rel="index"><span itemprop="name">Vulkan</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&amp;emsp;&amp;emsp; 这是Vulkan学习的第四节，主要讲解物理设备以及队列族的创建以及两者的意义。</p>
<h2 id="选择物理设备"><a href="#选择物理设备" class="headerlink" title="选择物理设备"></a>选择物理设备</h2><p>&amp;emsp;&amp;emsp; 创建Instance后,我们需要选择一个合适的显卡设备。实际中可以选择多个显卡并同时使用他们。</p>
<h3 id="选择物理设备代码"><a href="#选择物理设备代码" class="headerlink" title="选择物理设备代码"></a>选择物理设备代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//选择的物理设备的句柄，可以理解为在程序中物理设备的标识</span></span><br><span class="line">VkPhysicalDevice physicalDevice = VK_NULL_HANDLE;</span><br><span class="line"></span><br><span class="line"><span class="comment">//查找当前设备中显卡个数</span></span><br><span class="line"><span class="type">uint32_t</span> deviceCount = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">vkEnumeratePhysicalDevices</span>(instance, &amp;deviceCount, <span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取当前多有可用显卡设备的句柄</span></span><br><span class="line"><span class="function">std::vector&lt;VkPhysicalDevice&gt; <span class="title">devices</span><span class="params">(deviceCount)</span></span>;</span><br><span class="line"><span class="built_in">vkEnumeratePhysicalDevices</span>(instance, &amp;deviceCount, devices.<span class="built_in">data</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//根据句柄获取物理设备的属性</span></span><br><span class="line">kPhysicalDeviceProperties deviceProperties;</span><br><span class="line"><span class="built_in">vkGetPhysicalDeviceProperties</span>(device, &amp;deviceProperties);</span><br><span class="line"></span><br><span class="line"><span class="comment">//根据句柄获取物理设备的特征</span></span><br><span class="line">VkPhysicalDeviceFeatures deviceFeatures;</span><br><span class="line"><span class="built_in">vkGetPhysicalDeviceFeatures</span>(device, &amp;deviceFeatures);</span><br></pre></td></tr></table></figure>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul>
<li>设备的属性（kPhysicalDeviceProperties）与设备的特征（VkPhysicalDeviceFeatures）区别：设备的特征说明了设备更为具体的属性，比如是否支持logicOp以及多视口渲染等，设备的属性更多的是说明一些限制（例如纹理最大尺寸等）以及设备标识（例如供应商标识）等。</li>
</ul>
<h2 id="队列簇"><a href="#队列簇" class="headerlink" title="队列簇"></a>队列簇</h2><h3 id="什么是队列族"><a href="#什么是队列族" class="headerlink" title="什么是队列族"></a>什么是队列族</h3><p>&amp;emsp;&amp;emsp; 在Vulkan中，任何操作（比如绘制以及加载纹理等）需要将对应的命令提交到一个队列中。不同类型的命令要提交到不同类型的队列中。也就说VulKan中有多个队列，这些队列我们成为队列簇。我们需要找到整个队列簇的一个子集，这个子集要满足我们要提交命令类型的需要。</p>
<h3 id="队列族的查询代码"><a href="#队列族的查询代码" class="headerlink" title="队列族的查询代码"></a>队列族的查询代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取所选择的物理设备中队列簇的数量</span></span><br><span class="line"><span class="type">uint32_t</span> queueFamilyCount = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">vkGetPhysicalDeviceQueueFamilyProperties</span>(device, &amp;queueFamilyCount,</span><br><span class="line"><span class="literal">nullptr</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取所有队列簇的属性</span></span><br><span class="line"><span class="function">std::vector&lt;VkQueueFamilyProperties&gt; <span class="title">queueFamilies</span><span class="params">(queueFamilyCount)</span></span>;</span><br><span class="line"><span class="built_in">vkGetPhysicalDeviceQueueFamilyProperties</span>(device, &amp;queueFamilyCount,</span><br><span class="line">queueFamilies.<span class="built_in">data</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//找到满足VK_QUEUE_GRAPHICS_BIT的队列即可</span></span><br><span class="line">queueFamily.queueFlags &amp; VK_QUEUE_GRAPHICS_BIT</span><br></pre></td></tr></table></figure>
<h3 id="说明-1"><a href="#说明-1" class="headerlink" title="说明"></a>说明</h3><ul>
<li>选择合适的显卡设备时，在该设备中能否找到满足要求的队列簇也是一个判断当前物理设备是否合适的重要因素。</li>
<li>当前的显卡都是GUGPU显卡，不仅有显示的功能，可能还有计算等其他功能，我们是要做显示用，所以寻找满足VK_QUEUE_GRAPHICS_BIT的队列簇。</li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuehuazhang.github.io/2022/10/15/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B03-instance/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yeha">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yeha的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/15/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B03-instance/" class="post-title-link" itemprop="url">Vulkan笔记-Instance</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-10-15 16:28:15 / 修改时间：17:53:37" itemprop="dateCreated datePublished" datetime="2022-10-15T16:28:15+08:00">2022-10-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vulkan/" itemprop="url" rel="index"><span itemprop="name">Vulkan</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&amp;emsp;&amp;emsp; 这是Vulkan学习的第三节，主要讲解Instance的创建过程。</p>
<h2 id="什么是Instance"><a href="#什么是Instance" class="headerlink" title="什么是Instance"></a>什么是Instance</h2><p>&amp;emsp;&amp;emsp; 针对于VulKan程序，首先应该是初始化VulKan库，而初始化工作就是通过创建Instance来实现的。Instance是应用程序和VulKan库之间的链接，创建Instance包括应用程序向图形驱动说明一些具体的使用细节。</p>
<h3 id="创建的代码"><a href="#创建的代码" class="headerlink" title="创建的代码"></a>创建的代码</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先需要有表示Instance的变量</span></span><br><span class="line">VkInstance instance;</span><br><span class="line"></span><br><span class="line"><span class="comment">//通过VkApplicationInfo向驱动提供一些信息 </span></span><br><span class="line">VkApplicationInfo appInfo&#123;&#125;;</span><br><span class="line">appInfo.sType = VK_STRUCTURE_TYPE_APPLICATION_INFO;</span><br><span class="line">appInfo.pApplicationName = <span class="string">&quot;Hello Triangle&quot;</span>; </span><br><span class="line">appInfo.applicationVersion = <span class="built_in">VK_MAKE_VERSION</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">appInfo.pEngineName = <span class="string">&quot;No Engine&quot;</span>; </span><br><span class="line">appInfo.engineVersion = <span class="built_in">VK_MAKE_VERSION</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">appInfo.apiVersion = VK_API_VERSION_1_0;</span><br><span class="line"></span><br><span class="line"><span class="comment">//创建Instance</span></span><br><span class="line">VkInstanceCreateInfo createInfo&#123;&#125;;</span><br><span class="line">createInfo.sType = VK_STRUCTURE_TYPE_INSTANCE_CREATE_INFO;</span><br><span class="line">createInfo.pApplicationInfo = &amp;appInfo;</span><br><span class="line"></span><br><span class="line"><span class="comment">//扩展的加载</span></span><br><span class="line">createInfo.enabledExtensionCount = glfwExtensionCount;</span><br><span class="line">createInfo.ppEnabledExtensionNames = glfwExtensions;</span><br><span class="line">createInfo.enabledLayerCount = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">vkCreateInstance</span>(&amp;createInfo, <span class="literal">nullptr</span>, &amp;instance) != VK_SUCCESS) &#123;</span><br><span class="line">    <span class="keyword">throw</span> std::<span class="built_in">runtime_error</span>(<span class="string">&quot;failed to create instance!&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//在程序结束时需要销毁instance</span></span><br><span class="line"><span class="built_in">vkDestroyInstance</span>(instance, <span class="literal">nullptr</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul>
<li>关于扩展，由于Vulkan是与窗口无关的，所以创建的时候需要外部输入关于窗口的信息到Vulkan库中，这个就是扩展，glfw提供了查找当前系统扩展的接口glfwGetRequiredInstanceExtensions。在我的电脑中返回了两个的扩展：	VK_KHR_surface 以及VK_KHR_win32_surface。</li>
<li>VkInstanceCreateInfo还有一个参数enabledLayerCount这个函数和在Debug下面调试有关，不过不是所有的驱动都会支持该选项，所以关于关于Validation layers暂时不讨论。</li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuehuazhang.github.io/2022/10/15/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B02-frame/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yeha">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yeha的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/15/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B02-frame/" class="post-title-link" itemprop="url">Vulkan笔记-大体框架</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-10-15 16:00:30 / 修改时间：16:21:51" itemprop="dateCreated datePublished" datetime="2022-10-15T16:00:30+08:00">2022-10-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vulkan/" itemprop="url" rel="index"><span itemprop="name">Vulkan</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&amp;emsp;&amp;emsp; 这是Vulkan学习的第二节，简介两部分，程序的主体框架以及Vulkan创建的主体流程。</p>
<h2 id="程序的主体框架"><a href="#程序的主体框架" class="headerlink" title="程序的主体框架"></a>程序的主体框架</h2><p>&amp;emsp;&amp;emsp; 下面以代码+注释的形式说明程序的主题框架。</p>
<h3 id="代码-注释"><a href="#代码-注释" class="headerlink" title="代码+注释"></a>代码+注释</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//头文件</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> GLFW_INCLUDE_VULKAN</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;GLFW/glfw3.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdexcept&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">const</span> <span class="type">uint32_t</span> WIDTH = <span class="number">800</span>;</span><br><span class="line"><span class="type">const</span> <span class="type">uint32_t</span> HEIGHT = <span class="number">600</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//程序运行的实例</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">HelloTriangleApplication</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//程序启动运行的主体函数</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="built_in">initWindow</span>(); <span class="comment">//初始化窗口</span></span><br><span class="line">        <span class="built_in">initVulkan</span>(); <span class="comment">//初始化vulkan配置</span></span><br><span class="line">        <span class="built_in">mainLoop</span>();   <span class="comment">//窗口循环</span></span><br><span class="line">        <span class="built_in">cleanup</span>();    <span class="comment">//程序结束前的清理工作</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    GLFWwindow* window;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">initWindow</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="built_in">glfwInit</span>();</span><br><span class="line"></span><br><span class="line">        <span class="built_in">glfwWindowHint</span>(GLFW_CLIENT_API, GLFW_NO_API);</span><br><span class="line">        <span class="built_in">glfwWindowHint</span>(GLFW_RESIZABLE, GLFW_FALSE);</span><br><span class="line"></span><br><span class="line">        window = <span class="built_in">glfwCreateWindow</span>(WIDTH, HEIGHT, <span class="string">&quot;Vulkan&quot;</span>, <span class="literal">nullptr</span>, <span class="literal">nullptr</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">initVulkan</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">mainLoop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (!<span class="built_in">glfwWindowShouldClose</span>(window)) &#123;</span><br><span class="line">            <span class="built_in">glfwPollEvents</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">cleanup</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="built_in">glfwDestroyWindow</span>(window);</span><br><span class="line"></span><br><span class="line">        <span class="built_in">glfwTerminate</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    HelloTriangleApplication app;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        app.<span class="built_in">run</span>();</span><br><span class="line">    &#125; <span class="built_in">catch</span> (<span class="type">const</span> std::exception&amp; e) &#123;</span><br><span class="line">        std::cerr &lt;&lt; e.<span class="built_in">what</span>() &lt;&lt; std::endl;</span><br><span class="line">        <span class="keyword">return</span> EXIT_FAILURE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> EXIT_SUCCESS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><ul>
<li>程序中主要是运行的一个实例，这个实例是类封装的。</li>
<li>在封装的实例中有以下几个部分：初始化窗口、初始化Vulkan、窗口循环以及窗口循环的结束。</li>
</ul>
<h2 id="Vulkan的主体流程"><a href="#Vulkan的主体流程" class="headerlink" title="Vulkan的主体流程"></a>Vulkan的主体流程</h2><ul>
<li>实例（Instance）和物理设备选择（physical device selection）。</li>
<li>逻辑设备（ Logical device）和队列簇（queue families）。</li>
<li>窗口创建以及交换链（swap chain）。</li>
<li>Image views和帧缓冲（framebuffers）。</li>
<li>渲染通道（Render passes）</li>
<li>图形管线（Graphics pipeline）</li>
<li>命令池和命令缓冲。（Command pools and command buffers）</li>
<li>主体循环。（Main loop）<br>&amp;emsp;&amp;emsp;上面是一些抽象的概念，在后续的笔记中将会具体的说明。</li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuehuazhang.github.io/2022/10/15/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01-install/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yeha">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yeha的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/10/15/Vulkan%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01-install/" class="post-title-link" itemprop="url">Vulkan笔记-API安装</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2022-10-15 11:14:40 / 修改时间：15:53:36" itemprop="dateCreated datePublished" datetime="2022-10-15T11:14:40+08:00">2022-10-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vulkan/" itemprop="url" rel="index"><span itemprop="name">Vulkan</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>&amp;emsp;&amp;emsp; 这是Vulkan学习的第一节，怎样安装VulkanAPI，由于我使用的是Windows,我这里只讲述Windows的安装。</p>
<h2 id="需要库介绍"><a href="#需要库介绍" class="headerlink" title="需要库介绍"></a>需要库介绍</h2><h3 id="Vulkan-SDK"><a href="#Vulkan-SDK" class="headerlink" title="Vulkan SDK"></a>Vulkan SDK</h3><ul>
<li>安装： 我们可以从LunarG网站上面下载Vulkan的SDK，安装方法也是傻瓜式的安装。</li>
<li>判断当前电脑是否支持Vulkan:在SDK的安装目录下面运行一下vkcube.exe这个demo，如果可以正常运行那么表示当前显卡支持Vulkan。</li>
<li>安装目录下有用的工具：glslangValidator.exe以及 glslc.exe，这两个工具分别是用于编译顶点着色器以及片元着色器为字节码，后续使用时再详细介绍。</li>
</ul>
<h3 id="GLFW"><a href="#GLFW" class="headerlink" title="GLFW"></a>GLFW</h3><p>Vulkan与窗口无关，所以需要一个窗口创建的库。GLFW可以用于创建Window界面。</p>
<h3 id="GLM"><a href="#GLM" class="headerlink" title="GLM"></a>GLM</h3><p>GLM是一个矩阵操作库，他是一个模板库，也就是说其只有头文件。</p>
<h3 id="创建开发工程"><a href="#创建开发工程" class="headerlink" title="创建开发工程"></a>创建开发工程</h3><ul>
<li>使用VS创建一个Console Application，并添加一个CPP文件。</li>
<li>设置include目录：C++ -&gt; General -&gt; Additional Include Directories 将Vulkan、GLFW和GLM的头文件目录已经其他需要引用的头文件路径添加进去。</li>
<li>添加附加包含目录：需要使用的库所在的目录。</li>
<li>添加附加依赖库，包括：glfW3.lib（静态库文件）、vulkan-1.lib。</li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuehuazhang.github.io/2022/09/24/Blender%E4%B8%AD%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yeha">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yeha的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/09/24/Blender%E4%B8%AD%E7%9A%84%E5%BF%AB%E6%8D%B7%E9%94%AE/" class="post-title-link" itemprop="url">Blender中的快捷键学习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-09-24 10:22:58" itemprop="dateCreated datePublished" datetime="2022-09-24T10:22:58+08:00">2022-09-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-25 18:42:53" itemprop="dateModified" datetime="2022-09-25T18:42:53+08:00">2022-09-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Blender/" itemprop="url" rel="index"><span itemprop="name">Blender</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Blender中的快捷键学习"><a href="#Blender中的快捷键学习" class="headerlink" title="Blender中的快捷键学习"></a>Blender中的快捷键学习</h1><h2 id="平移"><a href="#平移" class="headerlink" title="平移"></a>平移</h2><ul>
<li>选中物体，按住G键移动鼠标进行物体平移。</li>
<li>选中物体，按住G键，然后按X&#x2F;Y&#x2F;Z键，移动鼠标，物体会沿着X&#x2F;Y&#x2F;Z轴进行平移。</li>
<li>选中物体，按住G键，然后按X&#x2F;Y&#x2F;Z键，然后输入数值（正负都可）物体会沿着X&#x2F;Y&#x2F;Z轴平移相应的距离。</li>
</ul>
<h2 id="缩放"><a href="#缩放" class="headerlink" title="缩放"></a>缩放</h2><ul>
<li>选中物体，按住S键，实现物体缩放。</li>
<li>选中物体，按住S键，然后按X&#x2F;Y&#x2F;Z键，移动鼠标，物体会沿着X&#x2F;Y&#x2F;Z轴进行缩放。</li>
<li>选中物体，按住S键，然后按X&#x2F;Y&#x2F;Z键，然后输入数值（正负都可）物体会沿着X&#x2F;Y&#x2F;Z轴缩放相应的大小。</li>
<li>在编辑物体的模式下Atrl+S 进行法向缩放。</li>
</ul>
<h2 id="游标"><a href="#游标" class="headerlink" title="游标"></a>游标</h2><ul>
<li>游标定义：游标是新建几何体的中心。</li>
<li>按住Shift+C键 游标回复到坐标中心。</li>
<li>按住Shift同时点击鼠标右键，游标移动到鼠标点击位置。</li>
</ul>
<h2 id="选择以及删除"><a href="#选择以及删除" class="headerlink" title="选择以及删除"></a>选择以及删除</h2><ul>
<li>A键全选。</li>
<li>X键删除选中的物体。</li>
</ul>
<h2 id="切换"><a href="#切换" class="headerlink" title="切换"></a>切换</h2><ul>
<li>tab键切换物体环境和编辑环境。</li>
<li>按Z键，切换显示模式（线框、实体、材质预览、渲染预览等）。</li>
<li>编辑环境下：可以拾取点、线、面，切换的快捷键是1（点），2（线），3（面）。</li>
<li>Alt+Z切换透视模式。透视模式下容易对背面进行选择。</li>
<li>几个视图的切换：小键盘1是前视图（Ctrl+1反向），小键盘3是右视图（Ctrl+1反向），小键盘7是顶视图（Ctrl+1反向），小键盘9是底视图（Ctrl+1反向）。</li>
<li>按~键也可以切换视图。</li>
</ul>
<h2 id="创建以及编辑几何体"><a href="#创建以及编辑几何体" class="headerlink" title="创建以及编辑几何体"></a>创建以及编辑几何体</h2><ul>
<li>Shift+A 创建几何体。</li>
<li>在编辑模式下按E挤出。</li>
<li>Ctrl+R 循环切割，按鼠标左键移动切换的位置，按鼠标左键后点右键切割到中心，点击鼠标滚轮可以产生多条切割线。</li>
<li>选中面，点击键盘i键，产生内插面。</li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuehuazhang.github.io/2022/09/18/FreeCAD%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yeha">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yeha的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/09/18/FreeCAD%E6%A8%A1%E5%9D%97%E5%8A%A0%E8%BD%BD/" class="post-title-link" itemprop="url">FreeCAD 模块加载</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-09-18 18:36:41" itemprop="dateCreated datePublished" datetime="2022-09-18T18:36:41+08:00">2022-09-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-10-15 17:44:39" itemprop="dateModified" datetime="2022-10-15T17:44:39+08:00">2022-10-15</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/FreeCAD/" itemprop="url" rel="index"><span itemprop="name">FreeCAD</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="FreeCAD运行的三种模式"><a href="#FreeCAD运行的三种模式" class="headerlink" title="FreeCAD运行的三种模式"></a>FreeCAD运行的三种模式</h2><p>&amp;emsp;&amp;emsp; FreeCAD有三种运行模式，即命令行模式、脚本模式以及界面模式。针对于FreeCAD中每一个模块，都包括两个库，第一个库是App库主要是供脚本调用库，是无界面的功能实现库，第二个库是GUI库，该库是该模块的界面库，界面库是通过调用脚本库来实现功能的。</p>
<h2 id="FreeCAD中的模块加载方法"><a href="#FreeCAD中的模块加载方法" class="headerlink" title="FreeCAD中的模块加载方法"></a>FreeCAD中的模块加载方法</h2><h3 id="每个模块的加载方法。"><a href="#每个模块的加载方法。" class="headerlink" title="每个模块的加载方法。"></a>每个模块的加载方法。</h3><p>&amp;emsp;&amp;emsp;FreeCAD启动的时候会遍历安装目录mod文件夹下面的文件，该遍历的实现位于Application::runInitGuiScript(void)中。<br>这个函数中运行了脚本FreeCADGuiInit.Py，在脚本中会运行函数InitApplications()，这个函数会遍历所有的模块，运行每一个模块的InitGui.py脚本，在该脚本中会运行Gui.addWorkbench(*Workbench())对应的C++代码是Application::sAddWorkbenchHandler，该函数在Gui模块里面进行了封装，对应的函数名就是addWorkbench。最终该WorkBench会被放入到Application的_pcWorkbenchDictionary一个字典列表中。</p>
<h3 id="模块中接口的调用方法。"><a href="#模块中接口的调用方法。" class="headerlink" title="模块中接口的调用方法。"></a>模块中接口的调用方法。</h3><p>&amp;emsp;&amp;emsp; 在python中运行一个导入模块的时候会首先运行Application::activateWorkbench函数，该函数中调用模块下面的InitGui.py文件中平台的Initialize函数，通过以下两句实现：  </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Py::Callable activate(handler.getAttr(std::string(&quot;Initialize&quot;)));</span><br><span class="line">activate.apply(args);</span><br></pre></td></tr></table></figure>
<p>Initialize函数才是真正加载该模块的方法。<br>&amp;emsp;&amp;emsp; 在Initialize函数中有会调用import 模块名，这会导致调用PyInit_模块名的函数。例如：针对PartGui模块，Application::activateWorkbench会导致PartWorkbench中的Initialize被调用，进而导致import PartGui被调用，这会直接调用PyInit_PartGui函数。在FreeCAD的GUI模块中，通常该接口实现定义在App<em>GUI.cpp 文件中（其中</em>表示模块名称），例如AppPartGUI.cpp 定义了PyInit_PartGui。<br>PyInit_PartGui主要进行了如下的工作：</p>
<ul>
<li>加载脚本模块：import Part</li>
<li>创建PartGui对应的python object。</li>
<li>初始化PartGui中的类型。</li>
<li>初始化Workbench，Workbench主要是创建菜单以及工具栏等操作。</li>
<li>创建命令。</li>
<li>加载资源。<br>&amp;emsp;&amp;emsp; PyInit_PartGui最后会创建一个PyObject，也就是说会创建一个python的类。这样PartGui就可以当作python的一个模块，按照python的调用方式进行调用了。<br>&amp;emsp;&amp;emsp;  Py::ExtensionModule<Module> 是C++封装为python工具PyCXX 提供的封装类，PartGui模块继承了Py::ExtensionModule<Module>也是就说采用的PyCXX的方式对C++进行封装的。</Module></Module></li>
</ul>
<script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://yuehuazhang.github.io/2022/06/14/RTR4-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Yeha">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Yeha的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2022/06/14/RTR4-1/" class="post-title-link" itemprop="url">实时渲染笔记1-矩阵</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-06-14 22:21:17" itemprop="dateCreated datePublished" datetime="2022-06-14T22:21:17+08:00">2022-06-14</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-09-18 20:02:44" itemprop="dateModified" datetime="2022-09-18T20:02:44+08:00">2022-09-18</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/RTR4/" itemprop="url" rel="index"><span itemprop="name">RTR4</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="矩阵学习"><a href="#矩阵学习" class="headerlink" title="矩阵学习"></a>矩阵学习</h1><h2 id="旋转矩阵"><a href="#旋转矩阵" class="headerlink" title="旋转矩阵"></a>旋转矩阵</h2><p>绕x轴旋转（沿着x轴负方向观察，逆时针旋转）的矩阵是<br>$$<br>R_{x}(\phi)&#x3D;<br>\begin{pmatrix}<br> 1&amp;0&amp;0&amp;0<br>\0&amp;cos\phi&amp;-sin\phi&amp;0<br> \0&amp; sin\phi&amp;cos\phi&amp;0<br> \0&amp;0&amp;0&amp;1<br>\end{pmatrix}<br>$$<br>绕y轴旋转（沿着y轴负方向观察，逆时针旋转）的矩阵是<br>$$<br>R_{y}(\phi)&#x3D;<br>\begin{pmatrix}<br> cos\phi&amp;0&amp;sin\phi&amp;0<br>\0&amp;1&amp;0&amp;0<br> \-sin\phi&amp;0&amp;cos\phi&amp;0<br> \0&amp;0&amp;0&amp;1<br>\end{pmatrix}<br>$$<br>绕z轴旋转（沿着z轴负方向观察，逆时针旋转）的矩阵是<br>$$<br>R_{z}(\phi)&#x3D;<br>\begin{pmatrix}<br> cos\phi&amp;-sin\phi&amp;0&amp;0<br>\sin\phi&amp;cos\phi&amp;0&amp;0<br> \0&amp;0&amp;1&amp;0<br> \0&amp;0&amp;0&amp;1<br>\end{pmatrix}<br>$$<br>我们可以将其转换为一个3X3的旋转矩阵（删除最后一行和最后一列）。<br>对于每一个3X3的旋转矩阵，其迹（主对角线之和）为一个定值即：<br>$$<br>tr(R)&#x3D;1+2cos\phi<br>$$<br>所有旋转矩阵的行列式都是1并且是正交的。</p>
<h2 id="缩放矩阵"><a href="#缩放矩阵" class="headerlink" title="缩放矩阵"></a>缩放矩阵</h2><script type="text&#x2F;javascript" src="https://unpkg.com/kity@2.0.4/dist/kity.min.js"></script><script type="text&#x2F;javascript" src="https://unpkg.com/kityminder-core@1.4.50/dist/kityminder.core.min.js"></script><script defer="true" type="text&#x2F;javascript" src="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.js"></script><link rel="stylesheet" type="text&#x2F;css" href="https://unpkg.com/hexo-simple-mindmap@0.8.0/dist/mindmap.min.css">
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Yeha</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">38</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">10</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2024</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Yeha</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> 强力驱动
  </div>
<!-- 根据页面mathjax变量决定是否加载MathJax数学公式js -->
<% if (page.mathjax){ %>
<%- partial('mathjax') %>
<% } %>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

  

</body>
</html>
